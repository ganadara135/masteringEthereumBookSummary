# Decentralized Applications(DApps)
본 챕터에서는 분권화된 어플리케인션(DApps)에 대해서 알아본다  
이더리움 개발 초기부터 스마트컨트랙트에 그치지 않고 더 큰 비전이 있었음  
웹을 재창조하는 것을 넘어서 DApp 의 새로운 세상을 만듦, 그것이 web3 임.  
스마트컨트랙트 로직과 애플리케이션의 지불 기능과 컨트롤 로직을 분권화하는 것이며,  
Web3 DApp 은 애플리케이션 나머지 부분을 분권화하는 것임: 저장소, 메시징, 네이밍 등.  
![Dapp image](https://github.com/ethereumbook/ethereumbook/blob/develop/images/web3suite.png)  
|  |  |
|--|--|
|Warning|분권화된 앱은 대담한 비전임. DApp 이란 용어는 스마트컨트랙트와 연동하는 웹프런트엔드에 종종 사용되나, 대부분은 중앙화된 앱(CApps)이므로 주의하라.|  

본 챕터에서 DApp 샘플로 옥션 플랫폼을 개발하고 배포할 것임.

# What is a DApp?
DApp 은 완전히 분권화된 애플리케이션임  
분권화되어야하는 애플리케이션의 모든 가능한 측면을 고려해보자  
+ 백엔드 소프트웨어(응용 로직)  
+ 프런트엔드 소프트웨어  
+ 데이터 저장소  
+ 메시지 교환  
+ 이름 해석 서비스(Name Resolution)  

위 각각은 일부는 중앙화돼 있거나 일부는 분권화돼있음  
예로서 프런트엔드가 중앙화된 서버에서 운영되는 웹 앱으로 개발되거나,  
자신의 폰에서 작동하는 모바일 앱으로 개발될 수 있고  
백엔드와 저장소는 개별 서버나 특정 데이터베이스일 수 있음  
그렇지않으면 스마트컨트랙트나 P2P 저장소를 사용할 수 도 있음  

전형적인 중앙화된 아키텍처가 제공할 수 없는 DApp의 장점이 있음  

#### Resiliency(회복력)  
비즈니스 로직이 스마트컨트랙트로 조정되기 때문에 DApp 백엔드는 완전히 분산돼있고  
블록체인 플랫폼 위에서 운영됨  
중앙화된 서버에 배포된 애플리케이션과는 다르게 DApp 은 중단되지않고 플랫폼이 작동중이면 언제나 사용할 수 있음  

#### Transparency
DApp 의 온체인 본질상 누구나 코드를 조사하는걸 허용하고, 기능에 대해서 확인할 수 있음  
DApp 과의 모든 상호작용이 블록체인에 영구히 저장된다  

#### Censorship resistance
사용자가 이더리움 노드에 접근하자마자, 사용자는 어떤 중앙화된 통제없이 DApp과 상호작용할 수 있음  
서비스 제공자나 심지어 스마트컨트랙트 오너도 일반 배포되면 코드를 변경할 수 없음  

이더리움 생태계에서도 완전히 분권화된 앱은 드물다.  
대부분이 아직 중앙화된 서비스나 서버에 그들의 일부 기능을 의존함  
향후에는 완전히 분권화된 방식으로 운영되는 DApp 이 가능할 것임  

## Backend(Smart Contract)
DApp 안에서 스마트컨트랙트는 비즈니스 로직이나 어플과 관련된 상태를 저장하기 위해서 사용됨  
따라서 정규 어플에서 백엔드처럼 서버쪽 요소를 대체하는것으로 스마트컨트랙트를 생각할 수 있음  
당연히 이것은 극단적 단순화임  
스마트컨트랙트에서 실행되는 모든 연산은 매우 비싸므로 가능한 작게 유지해야함  
그러므로 어플의 어느 부분이 신뢰성있고 분권화되어 실행되어야하는 구분하는 중요함  

이더리움 스마트컨트랙트를 배포이후에는 해당 비즈니스 로직은 향후에도 다른 개발자들에 의해서 사용될 수 있음  
스마트컨트랙트 아키텍처 디자인의 주요 고려사항은 배포되면 스마트컨트랙트의 코드를 변경할 수 없다는 것임  
유일한 접근방식은 SELFDESTRUCT 실행코드로 삭제할 수 있으나, 코드는 어떤 방식으로도 변경할 수 없음  

스마트컨트랙트 아키텍처 디자인의 두번째 주요 고려사항은 DApp 크기이다.  
정말 큰 일체구조 스마트컨트랙트는 배포하고 사용하기 위해선 많은 가스비고 비용하다  
그래서 일부 어플은 오프체인 연산과 외부 데이터 소스를 갖도록 디자인함  
하지만 DApp 의 코어 비즈니스 로직이 외부 데이터로 의존한다는 것은 사용자들이 외부 자원 사용을 신뢰할 수 있도록해야함  

## Frontend(Web User Interface)
개발자에게 EVM 과 Solidity를 이해하게 요구하는 DApp 의 비즈니스 로직과는 다르게  
DApp 의 클라이언트 쪽 인터페이스는 표준 웹 기술(HTML, CSS, JavaScript)를 사용할 수 있음  
이것은 전통 웹 개발자들이 친숙한 툴, 라이브러리, 프레임워크 사용을 허함  
메시지 사인, 트랜잭션 보내기, 키 관리하기 같은 이더리움과의 상호작동은 주로 웹브라우저를 통해서 수행됨.  

모바일 DApp 을 만드는 것이 가능할지라도 현재까지는 모바일 DApp 프런트엔드를 만드는데 활용가능한 자원이 충분치 않음  
프런트엔드는 주로 web3.js 자바스크리브 라이브러리를 통해서 이더리움에 연결됨  
web3.js 는 프런트엔드 자원과 번들링 되고, 웹서버를 통해서 브라우저로 서비스됨  

## Data Storage
높은 가스 비용과 현재 낮은 블록 가스 한계 때문에 스마트컨트랙트는 대규모의 데이터를 저장하거나 처리하는데 적합하지 않음  
그래서 대부분의 DApp은 오프체인 데이터 저장 서비스를 이용함  
이것은 벌키 데이터를 이더리움 체인 밖에 저장한다는 것임  
해당 데이터 저장소 플랫폼은 전형적인 클라우드 데이터베이스처럼 중앙화될 수 있고,  또는 IPFS, Swarm 처럼 P2P 방식으로 저장하여서 분권화될 수 있음  

분권화된 P2P 저장소는 이미지, 비디오, 프런트엔드 인터페이스자원(HTML,CSS) 같은 정적 자원을 분산화하여서 저장하는데 이상적임  
아래에서 그 예를 보자  

### IPFS

### Swarm



